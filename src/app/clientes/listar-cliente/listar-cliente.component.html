<main>
  <h1>Lista de Clientes</h1>

  <p-button
    label="Cadastrar Cliente"
    [routerLink]="['/cadastrar-cliente']"
    [link]="true">
  </p-button>

  <p-confirmDialog [style]="{ width: '50vw' }"></p-confirmDialog>

  <ng-container *ngIf="clientes; else carregando">
    <p-table
      [value]="clientes"
      styleClass="p-datatable-striped"
      [tableStyle]="{ 'min-width': '50rem' }">
      <ng-template pTemplate="header">
        <tr>
          <th>Nome Cliente</th>
          <th>CPF</th>
          <th>Data Cadastro</th>
          <th>Renda Mensal</th>
          <th></th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-cliente>
        <tr>
          <td>{{ cliente.nomeCliente }}</td>
          <td>{{ cliente.cpf | cpfPipe }}</td>
          <td>{{ cliente.dataCadastro | date: 'dd/MM/yyyy' }}</td>
          <td>{{ cliente.rendaMensal | currency: 'BRL' }}</td>
          <td class="btn-acoes">
            <p-button
              pTooltip="Editar Cliente"
              tooltipPosition="top"
              icon="pi pi-pencil"
              (click)="onAlterarCliente(cliente)"></p-button>
            <p-button
              pTooltip="Excluir Cliente"
              tooltipPosition="top"
              icon="pi pi-times"
              severity="danger"
              (click)="onExcluirCliente(cliente)"></p-button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </ng-container>

  <ng-template #carregando>
    <p>Carregando lista de clientes...</p>
  </ng-template>
</main>
